<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1></h1>
  <canvas id="canvas" width="1200" height="600"></canvas>
  <script>
    class Chart {
  constructor(con) {
    this.canvas = document.getElementById(con.canvasId);
    this.minX = con.minX;
    this.minY = con.minY;
    this.maxX = con.maxX;
    this.maxY = con.maxY;
    this.unitsPerTickX = con.unitsPerTickX;
    this.unitsPerTickY = con.unitsPerTickY;
    // constants  
    this.padding = 10;
    this.tickSize = 10;
    this.axisColor = "#555";
    this.pointRadius = 4;
    this.fontHeight = 12;
    // relationships       
    this.context = this.canvas.getContext("2d");
    this.rangeX = this.maxX - this.minY;
    this.rangeY = this.maxY - this.minY;
    this.numXTicks = Math.round(this.rangeX / this.unitsPerTickX);
    this.numYTicks = Math.round(this.rangeY / this.unitsPerTickY);
    this.x = this.getLongestValueWidth() + this.padding * 2;
    this.y = this.padding * 2;
    this.width = this.canvas.width - this.x - this.padding * 2;
    this.height = this.canvas.height - this.y - this.padding - this.fontHeight;
    this.scaleX = this.width / this.rangeX;
    this.scaleY = this.height / this.rangeY;
  }
  drawXAxis() {
    this.context.save();
    this.context.beginPath();
    this.context.moveTo(this.x, this.y + this.height);
    this.context.lineTo(this.x + this.width, this.y + this.height);
    this.context.strokeStyle = this.axisColor;
    this.context.lineWidth = 2;
    this.context.stroke();
    // draw tick marks  
    for (let n = 0; n < this.numXTicks; n++) {
      this.context.beginPath();
      this.context.moveTo((n + 1) * this.width / this.numXTicks + this.x, this.y + this.height);
      this.context.lineTo((n + 1) * this.width / this.numXTicks + this.x, this.y + this.height - this.tickSize);
      this.context.stroke();
    }
    // draw labels  
    this.context.fillStyle = "black";
    this.context.textAlign = "center";
    this.context.textBaseline = "middle";
    for (let n = 0; n < this.numXTicks; n++) {
      const label = Math.round((n + 1) * this.maxX / this.numXTicks);
      this.context.save();
      this.context.translate((n + 1) * this.width / this.numXTicks + this.x, this.y + this.height + this.padding);
      this.context.fillText(label, 0, 0);
      this.context.restore();
    }
    this.context.restore();
  };
  drawYAxis() {
    const {context} = this;
    context.save();
    context.save();
    context.beginPath();
    context.moveTo(this.x, this.y);
    context.lineTo(this.x, this.y + this.height);
    context.strokeStyle = this.axisColor;
    context.lineWidth = 2;
    context.stroke();
    context.restore();
    // draw tick marks  
    for (let n = 0; n < this.numYTicks; n++) {
      context.beginPath();
      context.moveTo(this.x, n * this.height / this.numYTicks + this.y);
      context.lineTo(this.x + this.tickSize, n * this.height / this.numYTicks + this.y);
      context.stroke();
    }
    // draw values  
    context.fillStyle = "black";
    context.textAlign = "right";
    context.textBaseline = "middle";
    for (let n = 0; n < this.numYTicks; n++) {
      const value = Math.round(this.maxY - n * this.maxY / this.numYTicks);
      context.save();
      context.translate(this.x - this.padding, n * this.height / this.numYTicks + this.y);
      context.fillText(value, 0, 0);
      context.restore();
    }
    context.restore();
  };
  getLongestValueWidth() {
    this.context.font = this.font;
    let longestValueWidth = 0;
    for (let n = 0; n <= this.numYTicks; n++) {
      const value = this.maxY - (n * this.unitsPerTickY);
      longestValueWidth = Math.max(longestValueWidth, this.context.measureText(value).width);
    }
    return longestValueWidth;
  };
  drawLine(data, color, width) {
    const {
      context
    } = this;
    context.save();
    this.transformContext();
    context.lineWidth = width;
    context.strokeStyle = color;
    context.fillStyle = color;
    context.beginPath();
    context.moveTo(data[0].x * this.scaleX, data[0].y * this.scaleY);
    for (let n = 0; n < data.length; n++) {
      const point = data[n];
      // draw segment  
      context.lineTo(point.x * this.scaleX, point.y * this.scaleY);
      context.stroke();
      context.closePath();
      context.beginPath();
      context.arc(point.x * this.scaleX, point.y * this.scaleY, this.pointRadius, 0, 2 * Math.PI, false);
      context.fill();
      context.closePath();
      // position for next segment  
      context.beginPath();
      context.moveTo(point.x * this.scaleX, point.y * this.scaleY);
    }
    context.restore();
  };
  transformContext() {
    // move context to center of canvas  
    this.context.translate(this.x, this.y + this.height);
    // invert the y scale so that that increments  
    // as you move upwards  
    this.context.scale(1, -1);
  };
}
window.onload = () => {
  const myLineChart = new Chart({
    canvasId: "canvas",
    minX: 0,
    minY: 0,
    maxX: 160,
    maxY: 100,
    unitsPerTickX: 10,
    unitsPerTickY: 10
  });
  const data1 = [{
    x: 0,
    y: 0
  }, {
    x: 20,
    y: 10
  }, {
    x: 40,
    y: 15
  }, {
    x: 60,
    y: 40
  }, {
    x: 80,
    y: 60
  }, {
    x: 100,
    y: 50
  }, {
    x: 120,
    y: 85
  }, {
    x: 140,
    y: 100
  }];
  myLineChart.drawLine(data1, "blue", 3);
  myLineChart.drawXAxis();
  myLineChart.drawYAxis();
  const data2 = [{
    x: 20,
    y: 85
  }, {
    x: 40,
    y: 75
  }, {
    x: 60,
    y: 75
  }, {
    x: 80,
    y: 45
  }, {
    x: 100,
    y: 65
  }, {
    x: 120,
    y: 40
  }, {
    x: 120,
    y: 35
  }];
  myLineChart.drawLine(data2, "red", 3);
};
  </script>
</body>

</html>